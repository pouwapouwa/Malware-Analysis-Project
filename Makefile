REPDIR = Documents
REPORT = Report
OLDREPORT = Old-Report
TEX = $(REPDIR)
DIRS = $(SRCDIR) $(REPDIR) $(TEX)

.PHONY : all clean-report report old-report

all : report

report:
	@(cd $(REPDIR) \
		&& pdflatex $(REPORT) && pdflatex $(REPORT))
	@(cd $(REPDIR) && ./.pdf_opener.sh $(REPORT).pdf &)
old-report:
	@(cd $(REPDIR) \
		&& pdflatex $(OLDREPORT) && pdflatex $(OLDREPORT))
	@(cd $(REPDIR) && ./.pdf_opener.sh $(OLDREPORT).pdf &)

clean:
	@(cd $(REPDIR) && rm -f $(REPORT).pdf $(REPORT).aux \
		$(REPORT).log $(REPORT).toc $(REPORT).bbl $(REPORT).blg \
		$(REPORT).dvi $(REPORT).out *~)
	@(cd $(REPDIR) && rm -f $(OLDREPORT).pdf $(OLDREPORT).aux \
		$(OLDREPORT).log $(OLDREPORT).toc $(OLDREPORT).bbl $(OLDREPORT).blg \
		$(OLDREPORT).dvi $(OLDREPORT).out *~)
	@(rm -f *~ && cd $(TEX) && rm -f *.dvi *.out *.log *.aux *~ *#)

help :
	@(echo -e "Usage :" )
	@(echo -e "  make [all]\t\tKick off the report")
	@(echo -e "  make report\t\tBuild the report")
	@(echo -e "  make clean\tRemove all report files generated")
	@(echo -e "  make help\t\tDisplay this help")
